Cluster IP en Kubernetes es un workload que se encarga de disponer una IP fija **dentro del cluster** la cual se debe configurar para realizar el redireccionamiento o balanceo del trafico hacia unos pods especificos por medio de los selectores y a unos puertos definidos segun los contenedores dispuestos en los contenedores que contienen.

Es decir, habra una unica IP con un puerto definido para realizar un balanceo de carga especifico.

Para crear un servicio de tipo cluster IP se debe crear el sigueinte manifiesto

```YAML
apiVersion: v1
kind: Service
metadata:
  name: <CLUSTERIP_NAME>
spec:
  selector:
    <LABEL>: <LABEL_VALUE>
  ports:
  - protocol: <PROTOCOL> # TPC
    port: <SERVICE_PORT> # Puerto del servicio al que se debera llamar
    targetPort: <CONTAINER_PORT> # Puerto expuesto por un contenedor
  type: ClusterIP
```

Al crear el clusterIP a este servicio se le asignara una IP la cual al llamar `http://IP_ASIGNADA:PORT` el servicio redirigira al pod con el selector `selector.label=value` al puerto `targetPort`.

En resumen, la comunicacion se hace por medio de la ip interna dentro del cluster.

Es necesario recordar que el pod debe poseer el label correspondiente al selector.
